!function(){function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){"use strict";function e(){var i=this;t(this,e),this.canv=document.getElementById("canvas"),this.ctx=this.canv.getContext("2d"),$(window).on("resize",(function(){return i.resize()})),this.mouseX=0,this.mouseY=0,this.scrollX=0,this.scrollY=0,this.isLeftMouseDown=!1,this.isMiddleMouseDown=!1,this.mod="move",this.scale=1,this.ctrlKey=!1,this.stack=[],this.resize(),this.init()}var h,o,n;return h=e,(o=[{key:"resize",value:function(){this.mmToPx=$(".mm").height(),this.a3={width:420*this.mmToPx,height:297*this.mmToPx},this.docWidth=this.a3.width,this.docHeight=this.a3.height,this.canv.width=$(".area").width(),this.canv.height=$(".area").height()}},{key:"init",value:function(){var t=this;$(this.canv).on("mousemove",(function(i){t.mouseX=i.offsetX,t.mouseY=i.offsetY})),$(this.canv).on("mousedown",(function(i){1==i.which&&(t.isLeftMouseDown=!0),2==i.which&&(t.isMiddleMouseDown=!0)})),$(this.canv).on("mouseup",(function(i){1==i.which&&(t.isLeftMouseDown=!1),2==i.which&&(t.isMiddleMouseDown=!1)})),$("#add").on("click",(function(){return t.mod="add"})),$("#move").on("click",(function(){return t.mod="move"})),$(this.canv).on("click",(function(i){var e=new s(t);t.stack.push(e)})),$(this.canv).on("mousewheel",(function(i){i.preventDefault(),t.mousewheel(i)})),this.ctx.strokeStyle="grey",this.ctx.lineWidth=1,this.ctx.strokeRect(this.scrollX,this.scrollY,250,250)}},{key:"mousewheel",value:function(t){var i=t.originalEvent.wheelDeltaY,e=$(".area").width(),s=$(".area").height();if(t.ctrlKey){if(this.docWidth<=e)return;this.scrollX+i>=this.docWidth?this.scrollX=this.docWidth-e:this.scrollX+i<=0?this.scrollX=0:this.scrollX+=i}else{if(this.docHeight<=e)return;this.scrollY+i>=this.docHeight?this.scrollY=this.docWidth-s:this.scrollY+i<=0?this.scrollY=0:this.scrollX+=i}this.paint()}},{key:"paint",value:function(){this.clear(),this.ctx.strokeStyle="grey",this.ctx.lineWidth=1,this.ctx.strokeRect(this.scrollX,this.scrollY,250,250)}},{key:"clear",value:function(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canv.width,this.canv.height),this.ctx.beginPath(),this.ctx.fillStyle="black"}}])&&i(h.prototype,o),n&&i(h,n),e}(),s=function i(e){"use strict";t(this,i),this.cm=e,this.width=200,this.height=100};new e}();
//# sourceMappingURL=index.dd78a8c5.js.map
